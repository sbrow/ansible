#!/usr/bin/env ansible-playbook
---
- name: Install applications on all hosts.
  hosts:
    - all
  tasks:
    - name: Install software on Mac systems
      when: ansible_facts.os_family == 'Darwin'
      block:
        - name: Install commands on Macs
          homebrew:
            name: '{{ commands }}'
            state: latest
        - name: Install applications on Macs
          homebrew_cask:
            name: '{{ applications }}'
            state: latest
    - name: Install software on Windows systems
      when: ansible_facts.os_family == 'Windows'
      win_chocolatey:
        name: '{{ applications }}'
        state: latest
