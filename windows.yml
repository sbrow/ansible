#!/usr/bin/env ansible-playbook
---
- name: Setup Desktop
  hosts:
    - durandal.local
  vars:
    applications:
      - aquasnap
      - autohotkey
      # - cleanmypc
      - discord
      - firefox
      - f.lux
      - joplin
      - vscode
  user: Spencer
  tasks:
    - name: Install applications
      win_chocolatey:
        name: "{{ applications }}"
        state: latest
- name: Setup AutoHotKey
  hosts:
    - durandal.local
  user: Spencer
  vars:
    home: C:\Users\Spencer
  tasks:
    - name: Install AHK scripts
      tags:
        - y
      win_copy:
        src: files/ahk/
        dest: '{{ home }}\AHKScripts'
    - name: Run main.ahk on startup
      win_shortcut:
        src: '{{ home }}\AHKScripts\main.ahk'
        directory: '{{ home }}\AHKScripts'
        dest: '{{ home }}\\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup\main.lnk'
        icon: '{{ home }}\AHKScripts\main.ahk,0'
